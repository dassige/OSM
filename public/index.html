<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FENZ OSM Console</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <button id="logoutBtn">Logout</button>
    <h1>FENZ OSM Automation</h1>
    
    <div id="controls" style="display: flex; align-items: center; flex-wrap: wrap;">
        <div style="margin-right: 15px; margin-bottom: 10px; background: white; padding: 8px 12px; border-radius: 6px; border: 1px solid #ccc;">
            <label for="daysInput" style="font-weight: bold; color: #555; font-size: 14px;">Days to Expiry:</label>
            <input type="number" id="daysInput" value="30" min="1" style="width: 50px; padding: 4px; border: 1px solid #ddd; border-radius: 4px; text-align: center;">
        </div>

        <button id="viewBtn">Reload Expiring Skills</button>
        <button id="sendEmailsBtn" disabled>Send Emails</button>
        
        <span id="status" style="margin-left: 15px; font-weight: bold; color: #555; margin-bottom: 10px;">Idle</span>
    </div>

    <div id="progressContainer">
        <div id="progressBar">0%</div>
    </div>

    <div id="tableContainer">
        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; border-bottom: 1px solid #eee; padding-bottom: 10px;">
            <h2 style="margin: 0;">Expiring Skills Report</h2>
            <div style="display: flex; flex-direction: column; align-items: flex-end; gap: 5px;">
                <label style="display: flex; align-items: center; cursor: pointer; font-weight: bold; color: #555; font-size: 14px;">
                    <input type="checkbox" id="hideNoSkillsCheckbox" style="margin-right: 8px; width: 16px; height: 16px;"> 
                    Hide members with 'NO expiring skills'
                </label>
                <label style="display: flex; align-items: center; cursor: pointer; font-weight: bold; color: #555; font-size: 14px;">
                    <input type="checkbox" id="hideNoUrlSkillsCheckbox" style="margin-right: 8px; width: 16px; height: 16px;"> 
                    Hide Skills without Online form
                </label>
            </div>
        </div>
        
        <p style="margin-top: -5px; margin-bottom: 15px; color: #666; font-size: 14px;">
            <em>Skills displayed in <b>bold</b> are configured as 'Critical'. 
            <span style="display: inline-flex; align-items: center; vertical-align: bottom;">
                <svg viewBox="0 0 24 24" width="16" height="16" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round" style="color: #007bff;"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline></svg>
            </span> 
            indicates a direct form link is available.</em>
        </p>
        <table id="skillsTable">
            <thead>
                <tr>
                    <th style="width: 30%">Member Name</th>
                    <th style="width: 35%">Expiring Skill</th>
                    <th style="width: 15%">Expiring Date</th>
                    <th style="width: 20%">
                        <label class="header-checkbox-label">
                            <input type="checkbox" id="selectAllCheckbox"> Send Email
                        </label>
                    </th>
                </tr>
            </thead>
            <tbody>
            </tbody>
        </table>
    </div>

    <h2 style="margin-top: 30px;">Console Log</h2>
    <div id="terminal"></div>

    <script src="/socket.io/socket.io.js"></script>
    <script src="app.js"></script>
</body>
</html>